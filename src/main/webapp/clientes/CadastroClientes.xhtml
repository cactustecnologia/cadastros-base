<ui:composition template="/WEB-INF/template/LayoutPadrao.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:o="http://omnifaces.org/ui">

	<ui:define name="titulo">Novo Cliente</ui:define>
	
	<f:metadata>		
		<o:viewParam name="cliente" value="#{cadastroClienteBean.cliente}"/>
	</f:metadata>
	
	<ui:define name="corpo">
		<h1>Novo Cliente</h1>
		<h:form id="frmCliente">
			<p:toolbar style="margin-top: 20px">
				<p:toolbarGroup>
					<p:button value="Novo" outcome="/clientes/CadastroClientes" />
					<p:commandButton value="Salvar" id="botaoSalvar"
						process="@this, painel"
						action="#{cadastroClienteBean.salvar}" update="painel msgCliente" />
				</p:toolbarGroup>
				<p:toolbarGroup align="right">
					<p:button value="Pesquisa" />
				</p:toolbarGroup>
			</p:toolbar>
			
			<p:messages id="msgCliente" closable="true" />
			
			<p:panelGrid columns="4" id="painel"
				style="width: 100%; margin-top: 20px" columnClasses="rotulo, campo">
				
				<p:outputLabel value="Pessoa" for="pessoa" />
				<h:panelGroup>
					<p:inputText id="pessoa" 
						value="#{cadastroClienteBean.cliente.pessoa}" size="40" />
					<p:button value=".." onclick="pessoasDialog.show(); return false;" />  			
				</h:panelGroup>
				
				<p:outputLabel value="Contabil Conta:" for="contabilConta" />
				<h:panelGroup>
					<p:inputText id="contabilConta" 
						value="#{cadastroClienteBean.cliente.contabilConta}" size="40" />
					<p:button value=".." onclick="contabilContaDialog.show(); return false;" />  			
				</h:panelGroup>
				
				<p:outputLabel value="Operação Fiscal:" for="operacaoFiscal" />
				<h:panelGroup>
					<p:inputText id="operacaoFiscal" 
						value="#{cadastroClienteBean.cliente.operacaoFiscal}" size="40" />
					<p:button value=".." onclick="operacaoFiscalDialog.show(); return false;" />  			
				</h:panelGroup>
				
				<p:outputLabel value="Atividade For. Cli.:" for="atividadeForCli" />
				<h:panelGroup>
					<p:inputText id="atividadeForCli" 						
						value="#{cadastroClienteBean.atividadeSelecionada.nome}" size="40" />						
					<p:commandButton icon="ui-icon-extlink"
						onclick="atividadeForCliDialog.show(); return false"
						process="@this">						
					</p:commandButton>					  			
				</h:panelGroup>
				
				<p:outputLabel value="Situação For. Cli.:" for="situacaoForCli" />
				<h:panelGroup>
					<p:inputText id="situacaoForCli" 
						value="#{cadastroClienteBean.cliente.situacaoForCli}" size="40" />
					<p:button value=".." onclick="situacaoForCliDialog.show(); return false;" />  			
				</h:panelGroup>
				
				<p:outputLabel value="Cliente desde:" for="desde" />
				<p:calendar id="desde" value="#{cadastroClienteBean.cliente.desde}" />
				
				<p:outputLabel value="Data do Cadastro:" for="dtCadastro" />
				<p:calendar id="dtCadastro"
					navigator="true" 
					value="#{cadastroClienteBean.cliente.dataCadastro}" />
				
				<p:outputLabel value="Conta Tomador:" for="ctTomador" />
				<p:inputText id="ctTomador" value="#{cadastroClienteBean.cliente.contaTomador}" />
				
				<p:outputLabel value="Gera Financeiro:" for="geraFinanceiro" />
				<p:inputText id="geraFinanceiro" value="#{cadastroClienteBean.cliente.geraFinanceiro}" />
				
				<p:outputLabel value="Indicador Preço:" for="indicadorPreco" />
				<p:inputText id="indicadorPreco" value="#{cadastroClienteBean.cliente.indicadorPreco}" />
				
				<p:outputLabel value="Porcentagem Desc.:" for="porcDesconto" />
				<p:inputText id="porcDesconto" value="#{cadastroClienteBean.cliente.porcentoDesconto}" />
				
				<p:outputLabel value="Forma Desconto:" for="formaDesconto" />
				<p:inputText id="formaDesconto" value="#{cadastroClienteBean.cliente.formaDesconto}" />
				
				<p:outputLabel value="Limite Crediário:" for="limiteCrediario" />
				<p:inputText id="limiteCrediario" value="#{cadastroClienteBean.cliente.limiteCredito}" />
				
				<p:outputLabel value="Tipo Frete:" for="tipoFrete" />
				<p:inputText id="tipoFrete" value="#{cadastroClienteBean.cliente.tipoFrete}" />
				
				<p:outputLabel value="Pessoa Teste" for="pessoaTeste" />
				<p:autoComplete id="pessoaTeste" size="40" dropdown="true"
		        	value="#{cadastroClienteBean.cliente.pessoa}" completeMethod="#{cadastroClienteBean.completarPessoa}"
		        	var="pessoa" itemLabel="#{pessoa.nome}" itemValue="#{pessoa}" forceSelection="true" />	        		
			</p:panelGrid>
			<p:panelGrid columns="1" 
				style="width: 100%; margin-top: 3px; padding-right: 10px;" columnClasses="rotulo, campo">
		    	<p:outputLabel value="Observação" for="observacao" />
		        <p:inputTextarea id="observacao" rows="10" style="width: 99%;"
					value="#{cadastroClienteBean.cliente.observacao}" />
		    </p:panelGrid>
		</h:form>
		<ui:include src="/clientes/ListarPessoas.xhtml" />
		<ui:include src="/financeiro/ListarContabilConta.xhtml" />
		<ui:include src="/fiscal/ListarOperacaoFiscal.xhtml" />
		<ui:include src="/atividadeForCli/ListarAtividadeForCli.xhtml" />
		<ui:include src="/situacaoForCli/ListarSituacaoForCli.xhtml" />
	</ui:define>
</ui:composition>